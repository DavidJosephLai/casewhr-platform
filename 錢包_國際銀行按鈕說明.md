# 💰 錢包頁面 - 國際銀行按鈕說明

## ✅ 新增功能（v2.0.69）

在**錢包（Wallet）**頁面的**銀行帳戶（Bank Accounts）**區域，新增了「添加國際銀行」按鈕。

---

## 📍 按鈕位置

### 路徑
```
Dashboard（儀表板）
  ↓
Wallet Tab（錢包標籤）
  ↓
Bank Accounts Card（銀行帳戶卡片）
  ↓
右上角按鈕區域
```

---

## 🎨 視覺效果

### 兩個按鈕並排顯示

```
┌─────────────────────────────────────────────────────────────┐
│  銀行帳戶                                                   │
│  Bank Accounts                                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🏦 銀行帳戶                                                │
│     管理您的提現銀行帳戶                                    │
│                                                             │
│                           ┌────────────────┐ ┌─────────────────┐
│                           │ ➕ Add Bank     │ │ 🌍 Add International│
│                           │    Account     │ │    Bank             │
│                           └────────────────┘ └─────────────────┘
│                                ↑                    ↑
│                           台灣銀行              國際銀行 ⭐ NEW
│                          (實心按鈕)            (外框按鈕)
│
└─────────────────────────────────────────────────────────────┘
```

---

## 🌍 三語支援

| 語言 | 台灣銀行按鈕 | 國際銀行按鈕 |
|------|-------------|-------------|
| **英文 (EN)** | Add Bank Account | Add International Bank |
| **繁體中文 (zh-TW)** | 添加銀行帳戶 | 添加國際銀行 |
| **簡體中文 (zh-CN)** | 添加银行账户 | 添加国际银行 |

---

## 🎯 功能說明

### 1️⃣ Add Bank Account（添加銀行帳戶）

**用途**：添加**台灣本地銀行**

**點擊後打開的對話框**：
- 標題：「Add Bank Account」
- 內容：
  - 銀行名稱下拉選單（台灣 29 家銀行）
  - 帳戶號碼
  - 帳戶持有人姓名
  - 分行代碼（選填）
  - SWIFT 代碼（選填）

**適用場景**：
- ✅ 您是台灣用戶
- ✅ 想要添加台灣銀行帳戶
- ✅ 快速選擇常見的台灣銀行

---

### 2️⃣ Add International Bank（添加國際銀行）⭐ NEW

**用途**：添加**任何國家的銀行**

**點擊後打開的對話框**：
- 標題：「Add International Bank Account」
- 內容：
  - 🌍 **國家/地區選擇器**（藍色突出顯示）✨
  - 帳戶類型（本地帳戶 / 國際帳戶）
  - 銀行名稱（根據選擇的國家動態更新）
  - IBAN（國際銀行帳號）
  - 帳戶號碼
  - 帳戶持有人姓名
  - SWIFT 代碼
  - Routing Number（美國）
  - Branch Code（其他國家）
  - 貨幣（自動根據國家設定）

**支援的國家**（12 個）：
- 🇹🇼 台灣 (TW) - 10 家銀行
- 🇺🇸 美國 (US) - 10 家銀行
- 🇬🇧 英國 (GB) - 3 家銀行
- 🇩🇪 德國 (DE) - 2 家銀行
- 🇫🇷 法國 (FR) - 2 家銀行
- 🇮🇹 意大利 (IT) - 2 家銀行
- 🇳🇱 荷蘭 (NL) - 1 家銀行
- 🇨🇭 瑞士 (CH) - 2 家銀行
- 🇭🇰 香港 (HK) - 2 家銀行
- 🇸🇬 新加坡 (SG) - 3 家銀行
- 🇯🇵 日本 (JP) - 3 家銀行
- 🇨🇳 中國 (CN) - 2 家銀行

**適用場景**：
- ✅ 您在海外工作
- ✅ 需要添加其他國家的銀行帳戶
- ✅ 接案客戶來自不同國家
- ✅ 需要多幣種提現

---

## 🔍 使用流程

### 添加台灣銀行（簡單快速）

```
1. 點擊「Add Bank Account」
   ↓
2. 選擇銀行（如：台灣銀行、玉山銀行）
   ↓
3. 填寫帳戶號碼
   ↓
4. 填寫持有人姓名
   ↓
5. 提交 ✅
```

---

### 添加國際銀行（完整功能）

```
1. 點擊「Add International Bank」
   ↓
2. 🌍 選擇國家（藍色區域，超明顯）⭐
   ↓
3. 銀行列表自動更新為該國家的銀行
   ↓
4. 選擇帳戶類型（本地 / 國際）
   ↓
5. 選擇銀行名稱
   ↓
6. 填寫對應欄位：
      • 歐洲：IBAN + SWIFT
      • 美國：Account Number + Routing Number
      • 亞洲：Account Number + SWIFT
   ↓
7. 填寫持有人姓名
   ↓
8. 提交 ✅
```

---

## 💡 關鍵特色

### 1. 國家選擇器超明顯 ✨

在「Add International Bank」對話框中，國家選擇器有：
- 🔵 淡藍色背景（`bg-blue-50`）
- 🔵 藍色邊框（`border-2 border-blue-200`）
- 🌍 Globe emoji
- 📝 說明文字：
  - 英文："Select your country first. The bank list will change based on your selection."
  - 中文："請先選擇您的國家。銀行列表會根據您的選擇而改變。"
- 📏 更大的字體和下拉框
- ⬆️ 放在對話框最上方

**絕對不會錯過！** 🎯

---

### 2. 銀行名稱自動翻譯 🌐

當您選擇不同國家後：
- 英文介面 → 顯示英文銀行名稱
- 中文介面 → 顯示中文銀行名稱（如果有）

**範例**：
| 銀行 | 英文 | 中文 |
|------|------|------|
| 美國 | JPMorgan Chase Bank | 摩根大通銀行 |
| 美國 | Bank of America | 美國銀行 |
| 英國 | HSBC | 匯豐銀行 |
| 日本 | Mitsubishi UFJ Bank | 三菱日聯銀行 |

---

### 3. 貨幣自動設定 💱

根據選擇的國家，自動設定對應貨幣：
- 🇹🇼 台灣 → TWD
- 🇺🇸 美國 → USD
- 🇬🇧 英國 → GBP
- 🇪🇺 歐洲 → EUR
- 🇯🇵 日本 → JPY
- 🇨🇳 中國 → CNY
- 🇭🇰 香港 → HKD
- 🇸🇬 新加坡 → SGD

---

### 4. 智能表單驗證 ✅

- 歐洲國家自動要求 IBAN
- 美國自動要求 Routing Number
- 國際帳戶要求 SWIFT/BIC
- 所有欄位都有清晰的 placeholder 說明

---

## 📊 技術實現

### 修改的文件

1. **`/components/BankAccountManager.tsx`**
   - 導入 `AddInternationalBankDialog`
   - 導入 `Globe` 圖標
   - 添加 `showAddInternationalDialog` 狀態
   - 添加「Add International Bank」按鈕
   - 添加三語翻譯
   - 連接對話框

### 代碼摘要

```tsx
// 導入
import { AddInternationalBankDialog } from "./AddInternationalBankDialog";
import { Globe } from 'lucide-react';

// 狀態
const [showAddInternationalDialog, setShowAddInternationalDialog] = useState(false);

// 按鈕
<Button 
  size="sm" 
  onClick={() => setShowAddInternationalDialog(true)} 
  variant="outline"
>
  <Globe className="h-4 w-4 mr-2" />
  {t.addInternationalAccount}
</Button>

// 對話框
<AddInternationalBankDialog
  open={showAddInternationalDialog}
  onOpenChange={setShowAddInternationalDialog}
  onSuccess={() => {
    setShowAddInternationalDialog(false);
    fetchBankAccounts();
  }}
/>
```

---

## 🎯 用戶體驗流程

### 情境 1：台灣用戶添加台灣銀行

```
張三（台灣自由工作者）
  ↓
前往 Dashboard → Wallet
  ↓
看到「銀行帳戶」區域
  ↓
點擊「添加銀行帳戶」（左側按鈕）
  ↓
選擇「玉山銀行」
  ↓
填寫帳號和姓名
  ↓
提交成功 ✅
```

---

### 情境 2：海外用戶添加美國銀行

```
李四（在美國工作的工程師）
  ↓
前往 Dashboard → Wallet
  ↓
看到「銀行帳戶」區域
  ↓
點擊「添加國際銀行」（右側按鈕，有 🌍 圖標）⭐
  ↓
看到藍色突出的「國家/地區」選擇器
  ↓
選擇「美國 (US)」
  ↓
銀行列表更新為美國銀行
  ↓
選擇「Bank of America」
  ↓
填寫：
  • Account Number
  • Routing Number
  • Account Holder Name
  ↓
提交成功 ✅
```

---

### 情境 3：多國接案者添加多個銀行

```
王五（全球接案者）
  ↓
前往 Dashboard → Wallet
  ↓
看到「銀行帳戶」區域
  ↓
依次添加：
  1. 台灣銀行（用「添加銀行帳戶」）
  2. 美國銀行（用「添加國際銀行」→ 選美國）
  3. 英國銀行（用「添加國際銀行」→ 選英國）
  4. 日本銀行（用「添加國際銀行」→ 選日本）
  ↓
現在有 4 個銀行帳戶，可以靈活提現 ✅
```

---

## 🔧 後續優化建議

### 短期

1. **按鈕圖標優化**
   - 台灣銀行：使用 `Building2` 圖標
   - 國際銀行：使用 `Globe` 圖標（已實現）

2. **提示文字**
   - 當沒有銀行帳戶時，空狀態可以同時顯示兩個按鈕

3. **快速操作**
   - 添加「最近使用的國家」快捷選項

### 長期

1. **智能推薦**
   - 根據用戶的 IP 地址，自動預選國家
   - 根據用戶接案記錄，推薦常用國家

2. **批量管理**
   - 允許用戶一次性導入多個銀行帳戶
   - CSV 導入功能

3. **驗證增強**
   - IBAN 格式實時驗證
   - 銀行帳號合法性檢查
   - SWIFT 代碼自動查詢

---

## ✅ 測試清單

部署到 Vercel 後，請測試以下功能：

### 基本功能

- [ ] 錢包頁面正常顯示
- [ ] 兩個按鈕並排顯示
- [ ] 「Add Bank Account」按鈕可點擊
- [ ] 「Add International Bank」按鈕可點擊
- [ ] Globe 圖標正常顯示

### 語言切換

- [ ] 英文：「Add International Bank」
- [ ] 繁體中文：「添加國際銀行」
- [ ] 簡體中文：「添加国际银行」

### 對話框功能

- [ ] 點擊「Add International Bank」打開正確的對話框
- [ ] 國家選擇器有藍色突出顯示
- [ ] 選擇不同國家，銀行列表正確更新
- [ ] 表單驗證正常工作
- [ ] 提交成功後，銀行帳戶列表更新

### 國際銀行功能

- [ ] 選擇美國，看到美國銀行（中英文名稱）
- [ ] 選擇英國，看到英國銀行
- [ ] 選擇日本，看到日本銀行
- [ ] 貨幣自動設定正確
- [ ] SWIFT 代碼自動填充（如果有）

---

## 📸 預期效果截圖說明

### 錢包頁面（Wallet Tab）

```
┌────────────────────────────────────────────────────────┐
│                                                        │
│  💰 錢包                                               │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │  可用餘額          托管中          總收入         │ │
│  │  $1,234.56       $0.00           $5,678.90      │ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │  🏦 銀行帳戶                                      │ │
│  │     管理您的提現銀行帳戶                          │ │
│  │                                                  │ │
│  │                      ┌──────────────┐ ┌────────────────┐
│  │                      │ ➕ 添加銀行   │ │ 🌍 添加國際銀行 │
│  │                      │    帳戶      │ │                │
│  │                      └──────────────┘ └────────────────┘
│  │                                        ↑ 新增按鈕 ⭐     │
│  │  ┌────────────────────────────────────────────────┐ │
│  │  │ 台灣銀行 (004)                            預設 │ │
│  │  │ 帳戶持有人：張三                              │ │
│  │  │ 帳戶號碼：****1234                            │ │
│  │  └────────────────────────────────────────────────┘ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
└────────────────────────────────────────────────────────┘
```

---

## 🎉 總結

### 這次更新

- ✅ 在錢包頁面添加了「Add International Bank」按鈕
- ✅ 按鈕位置：銀行帳戶區域右上角
- ✅ 按鈕樣式：outline 按鈕 + Globe 圖標
- ✅ 三語支援：英文、繁體中文、簡體中文
- ✅ 功能完整：連接到國際銀行對話框，支援 12 個國家

### 用戶體驗

現在用戶可以：
1. 快速添加台灣銀行（左側按鈕）
2. 輕鬆添加國際銀行（右側按鈕）⭐
3. 看到藍色突出的國家選擇器
4. 享受中英文銀行名稱翻譯
5. 管理多個國家的銀行帳戶

**一切都在錢包頁面，簡單直觀！** 🎯

---

**版本**：v2.0.69  
**更新時間**：2026-01-04 20:15 UTC  
**狀態**：✅ 完成，等待 Vercel 部署  
**影響範圍**：Dashboard → Wallet Tab → Bank Accounts

---

**下一步**：部署到 Vercel，享受完整的國際銀行管理功能！🚀
